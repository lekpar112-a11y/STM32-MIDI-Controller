; =================================================================
; Konfigurasi PlatformIO untuk STM32 MIDI Controller
; Board: BluePill STM32F103C8
; FITUR: USB Composite, MIDI Hardware, DAN BLE MIDI
; =================================================================

[env:bluepill_f103c8]
platform = ststm32
board = bluepill_f103c8
framework = arduino

# Kecepatan upload dan serial monitor
monitor_speed = 115200
upload_protocol = stlink

# --- BAGIAN PENTING UNTUK USB COMPOSITE ---
build_flags = 
  -D PIO_FRAMEWORK_ARDUINO_ENABLE_CDC
  -D USBCON
  -D USBD_USE_CDC_MIDI
  -D USE_USB_HID_COMPOSITE
  -D USB_PRODUCT="STM32 MIDI Controller"
  -D USB_MANUFACTURER="SynthController"

# --- BAGIAN PENTING UNTUK BLE MIDI ---
# Memberitahu PlatformIO untuk mengunduh dan menginstal library BLE-MIDI
lib_deps = 
  lathoub/BLE-MIDI
